<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>рЃърЃарЃЮрЃЊрЃБрЃЦрЃбрЃўрЃА рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃљ/рЃарЃћрЃЊрЃљрЃЦрЃбрЃўрЃарЃћрЃЉрЃљ</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow-sm">
                <div class="card-header bg-dark text-white">
                    <h4 class="mb-0">­ЪЏа№ИЈ рЃърЃарЃЮрЃЊрЃБрЃЦрЃбрЃўрЃА рЃЏрЃљрЃарЃЌрЃЋрЃљ</h4>
                </div>
                <div class="card-body">

                    <form th:action="@{/products/save}" method="post" enctype="multipart/form-data">

                        <!-- ID рЃарЃћрЃЊрЃљрЃЦрЃбрЃўрЃарЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА -->
                        <input type="hidden" name="id" th:value="${product.id}" />

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label fw-bold">рЃЊрЃљрЃАрЃљрЃ«рЃћрЃџрЃћрЃЉрЃљ</label>
                                <input type="text" name="name" th:value="${product.name}" class="form-control" required placeholder="рЃЏрЃљрЃњ: Milwaukee M18 Drill">
                            </div>

                            <div class="col-md-6 mb-3">
                                <label class="form-label fw-bold">SKU рЃЎрЃЮрЃЊрЃў</label>
                                <input type="text" name="sku" th:value="${product.sku}" class="form-control" placeholder="рЃЏрЃљрЃњ: 4933464516">
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <label class="form-label fw-bold">рЃцрЃљрЃАрЃў (РѓЙ)</label>
                                <input type="number" step="0.01" name="price" th:value="${product.price}" class="form-control" required>
                            </div>

                            <div class="col-md-4 mb-3">
                                <label class="form-label fw-bold">рЃЏрЃљрЃарЃљрЃњрЃў (рЃфрЃљрЃџрЃў)</label>
                                <input type="number" name="stockQuantity" th:value="${product.stockQuantity}" class="form-control">
                            </div>

                            <div class="col-md-4 mb-3">
                                <label class="form-label fw-bold">рЃЎрЃљрЃбрЃћрЃњрЃЮрЃарЃўрЃљ</label>
                                <select name="category" class="form-select" required>
                                    <option value="">-- рЃљрЃўрЃарЃЕрЃўрЃћ --</option>
                                    <!-- рЃЕрЃљрЃЏрЃЮрЃЋрЃЌрЃЋрЃџрЃўрЃЌ рЃЎрЃљрЃбрЃћрЃњрЃЮрЃарЃўрЃћрЃЉрЃА рЃЊрЃљ рЃЏрЃЮрЃЋрЃюрЃўрЃерЃюрЃљрЃЋрЃЌ рЃљрЃарЃЕрЃћрЃБрЃџрЃА (рЃЌрЃБ рЃарЃћрЃЊрЃљрЃЦрЃбрЃўрЃарЃћрЃЉрЃљрЃљ) -->
                                    <option th:each="cat : ${T(ge.toolmasters.store.entity.Product.Category).values()}"
                                            th:value="${cat}"
                                            th:text="${cat}"
                                            th:selected="${product.category == cat}"></option>
                                </select>
                            </div>
                        </div>

                        <!-- ­Ъџе рЃАрЃБрЃарЃљрЃЌрЃћрЃЉрЃўрЃА рЃљрЃ«рЃљрЃџрЃў рЃАрЃћрЃЦрЃфрЃўрЃљ ­Ъџе -->
                        <div class="card mb-3 border-secondary">
                            <div class="card-header bg-secondary text-white">
                                ­ЪЊи рЃърЃарЃЮрЃЊрЃБрЃЦрЃбрЃўрЃА рЃАрЃБрЃарЃљрЃЌрЃў
                            </div>
                            <div class="card-body d-flex align-items-center gap-3">

                                <!-- рЃЏрЃўрЃЏрЃЊрЃўрЃюрЃљрЃарЃћ рЃАрЃБрЃарЃљрЃЌрЃўрЃА рЃЕрЃЋрЃћрЃюрЃћрЃЉрЃљ (рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃарЃћрЃЊрЃљрЃЦрЃбрЃўрЃарЃћрЃЉрЃўрЃАрЃљрЃА) -->
                                <div th:if="${product.imageUrl != null and product.imageUrl != ''}" class="text-center">
                                    <small class="d-block text-muted mb-1">рЃЏрЃўрЃЏрЃЊрЃўрЃюрЃљрЃарЃћ рЃАрЃБрЃарЃљрЃЌрЃў:</small>

                                    <!-- рЃўрЃюрЃбрЃћрЃарЃюрЃћрЃбрЃўрЃА рЃџрЃўрЃюрЃЎрЃўрЃљ рЃЌрЃБ рЃџрЃЮрЃЎрЃљрЃџрЃБрЃарЃљрЃЊ рЃљрЃбрЃЋрЃўрЃарЃЌрЃБрЃџрЃў рЃцрЃљрЃўрЃџрЃў -->
                                    <img th:if="${#strings.startsWith(product.imageUrl, 'http')}"
                                         th:src="${product.imageUrl}" width="80" height="80" style="object-fit: cover;" class="border rounded">

                                    <img th:unless="${#strings.startsWith(product.imageUrl, 'http')}"
                                         th:src="@{'/images/' + ${product.imageUrl}}" width="80" height="80" style="object-fit: cover;" class="border rounded">
                                </div>

                                <div class="flex-grow-1">
                                    <!-- рЃЋрЃљрЃарЃўрЃљрЃюрЃбрЃў 1: рЃџрЃўрЃюрЃЎрЃўрЃА рЃЕрЃљрЃњрЃЊрЃћрЃЉрЃљ -->
                                    <div class="mb-2">
                                        <label class="form-label fw-bold small">рЃЋрЃљрЃарЃўрЃљрЃюрЃбрЃў 1: рЃЕрЃљрЃАрЃЋрЃў URL рЃџрЃўрЃюрЃЎрЃў (http...)</label>
                                        <input type="text" name="imageUrl" th:value="${product.imageUrl}" class="form-control form-control-sm" placeholder="https://milwaukee...">
                                    </div>

                                    <!-- рЃЋрЃљрЃарЃўрЃљрЃюрЃбрЃў 2: рЃцрЃљрЃўрЃџрЃўрЃА рЃљрЃбрЃЋрЃўрЃарЃЌрЃЋрЃљ -->
                                    <div>
                                        <label class="form-label fw-bold small">рЃЋрЃљрЃарЃўрЃљрЃюрЃбрЃў 2: рЃљрЃбрЃЋрЃўрЃарЃЌрЃћ рЃцрЃљрЃўрЃџрЃў рЃЎрЃЮрЃЏрЃърЃўрЃБрЃбрЃћрЃарЃўрЃЊрЃљрЃю</label>
                                        <input type="file" name="imageFile" class="form-control form-control-sm" accept="image/*">
                                        <small class="text-muted" style="font-size: 0.75rem;">(рЃљрЃ«рЃљрЃџрЃў рЃцрЃљрЃўрЃџрЃўрЃА рЃљрЃбрЃЋрЃўрЃарЃЌрЃЋрЃљ рЃгрЃљрЃерЃџрЃўрЃА рЃФрЃЋрЃћрЃџ рЃџрЃўрЃюрЃЎрЃА)</small>
                                    </div>
                                </div>

                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label fw-bold">рЃърЃарЃЮрЃЊрЃБрЃЦрЃбрЃўрЃА рЃЏрЃљрЃ«рЃљрЃАрЃўрЃљрЃЌрЃћрЃЉрЃџрЃћрЃЉрЃў (рЃљрЃдрЃгрЃћрЃарЃљ)</label>
                            <textarea name="description" th:text="${product.description}" class="form-control" rows="5" placeholder="рЃЕрЃљрЃгрЃћрЃарЃћрЃЌ рЃбрЃћрЃЦрЃюрЃўрЃЎрЃБрЃарЃў рЃЏрЃљрЃ«рЃљрЃАрЃўрЃљрЃЌрЃћрЃЉрЃџрЃћрЃЉрЃў..."></textarea>
                        </div>

                        <div class="d-flex gap-2 mt-4">
                            <button type="submit" class="btn btn-success w-50">­ЪњЙ рЃерЃћрЃюрЃљрЃ«рЃЋрЃљ</button>
                            <a href="/products" class="btn btn-outline-secondary w-50">рЃњрЃљрЃБрЃЦрЃЏрЃћрЃЉрЃљ</a>
                        </div>

                    </form>
                </div>
            </div>

            <div class="text-center text-muted mt-3">
                <small>&copy; 2026 ToolMasters Admin Panel</small>
            </div>

        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

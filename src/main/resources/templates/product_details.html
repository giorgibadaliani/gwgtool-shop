<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title th:text="${product.name}">рЃЊрЃћрЃбрЃљрЃџрЃћрЃЉрЃў</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">

<nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4 sticky-top">
  <div class="container">
    <a class="navbar-brand fw-bold" href="/">GWG-TOOLS ­ЪЏа№ИЈ</a>
    <a href="/cart" class="btn btn-outline-warning position-relative">
      ­ЪЏњ рЃЎрЃљрЃџрЃљрЃЌрЃљ
      <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
            th:if="${cartCount != null && cartCount > 0}"
            th:text="${cartCount}">0</span>
    </a>
  </div>
</nav>

<div class="container my-5">
  <div class="row bg-white p-4 shadow-sm rounded">

    <div class="col-md-6 text-center mb-4">
      <img th:if="${product.imageUrl != null and #strings.startsWith(product.imageUrl, 'http')}"
           th:src="${product.imageUrl}" class="img-fluid rounded shadow-sm" style="max-height: 500px;" alt="Product Image">
      <img th:if="${product.imageUrl != null and !#strings.startsWith(product.imageUrl, 'http') and product.imageUrl != 'link' and product.imageUrl != ''}"
           th:src="@{'/images/' + ${product.imageUrl}}" class="img-fluid rounded shadow-sm" style="max-height: 500px;" alt="Product Image">
      <img th:if="${product.imageUrl == null or product.imageUrl == 'link' or product.imageUrl == ''}"
           th:src="@{/uploads/logo.png}" class="img-fluid rounded shadow-sm" style="max-height: 500px;" alt="Default Logo">
    </div>

    <div class="col-md-6">
      <h6 class="text-muted text-uppercase" th:text="'SKU: ' + ${product.sku}">SKU: 12345</h6>
      <h1 class="fw-bold mb-3" th:text="${product.name}">M18 Fuel Drill</h1>
      <h2 class="text-danger fw-bold mb-4" th:text="${product.price} + ' РѓЙ'">500 РѓЙ</h2>

      <div class="mb-4">
        <span class="badge bg-success fs-6" th:text="${product.stockQuantity} + ' рЃфрЃљрЃџрЃў рЃЏрЃљрЃарЃљрЃњрЃерЃўрЃљ'">5 рЃфрЃљрЃџрЃў рЃЏрЃљрЃарЃљрЃњрЃерЃўрЃљ</span>
      </div>

      <!-- рЃЏрЃљрЃ«рЃљрЃАрЃўрЃљрЃЌрЃћрЃЉрЃџрЃћрЃЉрЃўрЃА рЃфрЃ«рЃарЃўрЃџрЃў -->
      <div th:if="${characteristics != null and not #lists.isEmpty(characteristics)}" class="mb-4">
        <h5 class="fw-bold border-bottom pb-2">­ЪЊІ рЃЏрЃљрЃ«рЃљрЃАрЃўрЃљрЃЌрЃћрЃЉрЃџрЃћрЃЉрЃў</h5>
        <table class="table table-striped table-bordered table-sm mt-3">
          <tbody>
          <tr th:each="char : ${characteristics}">
            <td class="fw-bold w-50" th:text="${char.name}"></td>
            <td th:text="${char.value}"></td>
          </tr>
          </tbody>
        </table>
      </div>

      <div class="d-grid gap-2 mt-4">
        <a th:href="@{/cart/add/{id}(id=${product.id})}" class="btn btn-primary btn-lg">рЃЎрЃљрЃџрЃљрЃЌрЃљрЃерЃў рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃљ ­ЪЏњ</a>
        <a href="/" class="btn btn-outline-secondary">рЃБрЃЎрЃљрЃю рЃЊрЃљрЃЉрЃарЃБрЃюрЃћрЃЉрЃљ</a>
      </div>
    </div>

  </div>
</div>

<footer class="text-center py-4 mt-5 text-muted border-top">
  <p>&copy; 2026 ToolMasters. рЃДрЃЋрЃћрЃџрЃљ рЃБрЃцрЃџрЃћрЃЉрЃљ рЃЊрЃљрЃфрЃБрЃџрЃўрЃљ.</p>
</footer>

</body>
</html>

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>рЃљрЃЊрЃЏрЃўрЃю рЃърЃљрЃюрЃћрЃџрЃў - рЃърЃарЃЮрЃЊрЃБрЃЦрЃбрЃћрЃЉрЃў</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">

<nav class="navbar navbar-dark bg-dark mb-4 sticky-top">
    <div class="container d-flex justify-content-between">
        <a class="navbar-brand fw-bold" href="/">ToolMasters Admin ­ЪЏа№ИЈ</a>
        <a href="/" class="btn btn-outline-light btn-sm">рЃАрЃљрЃўрЃбрЃќрЃћ рЃЊрЃљрЃЉрЃарЃБрЃюрЃћрЃЉрЃљ</a>
    </div>
</nav>

<div class="container-fluid px-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>­ЪЊд рЃърЃарЃЮрЃЊрЃБрЃЦрЃбрЃћрЃЉрЃўрЃА рЃЏрЃљрЃарЃЌрЃЋрЃљ</h2>
        <a href="/products/new" class="btn btn-success">+ рЃљрЃ«рЃљрЃџрЃў рЃърЃарЃЮрЃЊрЃБрЃЦрЃбрЃўрЃА рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃљ</a>
    </div>

    <div class="card shadow border-0">
        <div class="card-body p-0">
            <table class="table table-hover table-striped align-middle mb-0">
                <thead class="table-dark">
                <tr>
                    <th>ID</th>
                    <th>рЃАрЃБрЃарЃљрЃЌрЃў</th>
                    <th>рЃЊрЃљрЃАрЃљрЃ«рЃћрЃџрЃћрЃЉрЃљ</th>
                    <th>SKU</th>
                    <th>рЃцрЃљрЃАрЃў</th>
                    <th>рЃЏрЃљрЃарЃљрЃњрЃў</th>
                    <th>рЃЏрЃЮрЃЦрЃЏрЃћрЃЊрЃћрЃЉрЃљ</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="product : ${products}">
                    <td th:text="${product.id}">1</td>

                    <!-- рЃАрЃБрЃарЃљрЃЌрЃўрЃА рЃАрЃЋрЃћрЃбрЃў -->
                    <td style="width: 70px;">
                        <!-- 1. рЃўрЃюрЃбрЃћрЃарЃюрЃћрЃбрЃўрЃА рЃАрЃБрЃарЃљрЃЌрЃў -->
                        <img th:if="${product.imageUrl != null and #strings.startsWith(product.imageUrl, 'http')}"
                             th:src="${product.imageUrl}"
                             width="50" height="50" class="rounded border" style="object-fit: contain;" alt="...">

                        <!-- 2. рЃљрЃбрЃЋрЃўрЃарЃЌрЃБрЃџрЃў рЃАрЃБрЃарЃљрЃЌрЃў -->
                        <img th:if="${product.imageUrl != null and !#strings.startsWith(product.imageUrl, 'http') and product.imageUrl != 'link' and product.imageUrl != ''}"
                             th:src="@{'/images/' + ${product.imageUrl}}"
                             width="50" height="50" class="rounded border" style="object-fit: contain;" alt="...">

                        <!-- 3. рЃџрЃЮрЃњрЃЮ -->
                        <img th:if="${product.imageUrl == null or product.imageUrl == 'link' or product.imageUrl == ''}"
                             th:src="@{/uploads/logo.png}"
                             width="50" height="50" class="rounded border" style="object-fit: contain;" alt="...">
                    </td>

                    <td class="fw-bold" th:text="${product.name}">Drill</td>
                    <td class="text-muted small" th:text="${product.sku}">12345</td>
                    <td class="text-success fw-bold" th:text="${product.price} + ' РѓЙ'">100 РѓЙ</td>

                    <!-- рЃЏрЃљрЃарЃљрЃњрЃўрЃА рЃцрЃћрЃарЃћрЃЉрЃў -->
                    <td>
                        <span class="badge"
                              th:classappend="${product.stockQuantity > 0 ? 'bg-success' : 'bg-danger'}"
                              th:text="${product.stockQuantity}">10</span>
                    </td>

                    <td>
                        <div class="d-flex gap-2">
                            <a th:href="@{/products/edit/{id}(id=${product.id})}" class="btn btn-sm btn-warning">РюЈ№ИЈ</a>
                            <a th:href="@{'/products/delete/' + ${product.id}}"
                               class="btn btn-sm btn-danger"
                               onclick="return confirm('рЃюрЃљрЃЏрЃЊрЃЋрЃўрЃџрЃљрЃЊ рЃњрЃўрЃюрЃЊрЃљ рЃгрЃљрЃерЃџрЃљ?')">­ЪЌЉ№ИЈ</a>
                        </div>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<div class="mt-5 text-center text-muted">
    <p>&copy; 2026 ToolMasters Admin Panel</p>
</div>

</body>
</html>
